{% extends 'base_generic.html' %}
{% load static %}

{% block content %}
<div class="page-background">

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap Bundle JS (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<div class="container my-4">
  <form method="get" action="{% url 'search' %}" id="search-form" class="input-group mx-auto">
    <input type="text" name="q" class="form-control" placeholder="Search for food..." value="{{ request.GET.q }}">
    <div class="input-group-append">
      <button class="btn btn-outline-secondary" type="submit" id="submit-search">searchüïµÔ∏è</button>
    </div>
  </form>
</div>

<!-- Food Cards displayed on search page. Currently six see foodSearch.py -->
<div class="food-cards-container">
    {% for food_item in page_obj %}
    <div role="button" data-bs-toggle="modal" data-bs-target="#Modal{{ food_item.fdcId }}">
        {% include '_food_card.html' %}
    </div>

    {% include '_add_logItem.html' %}

    {% empty %}
      <p>Try searching for a food!</p>
    {% endfor %}
</div>


{% if page_obj.paginator.num_pages > 1 %}
<div class="pagination text-center mt-4">
  <span class="step-links">
    {% if page_obj.has_previous %}
    <a href="?q={{ request.GET.q }}&page=1">&laquo; first</a>
    <a href="?q={{ request.GET.q }}&page={{ page_obj.previous_page_number }}">previous</a>
    {% endif %}

    <span class="current mx-2">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
    </span>

    {% if page_obj.has_next %}
    <a href="?q={{ request.GET.q }}&page={{ page_obj.next_page_number }}">next</a>
    <a href="?q={{ request.GET.q }}&page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
{% endif %}
</div>
{% endblock %}